import{d as V,r as y,c as r,o as l,a as d,u as p,h as k,w as u,b as e,f as B,t as o,g as x,v as C,i as I,F as c,j as f,e as h,l as v,k as N,n as T,m as D}from"./app-B_Zw6QGP.js";import{_ as F}from"./AppLayout.vue_vue_type_script_setup_true_lang-oEio1Vio.js";import"./index-7eilHQPG.js";import"./useForwardExpose-C6-hPyV1.js";import"./VisuallyHidden-Cy1sULpD.js";import"./createLucideIcon-CHfYH6pV.js";const L={class:"p-6 space-y-6 bg-gray-50"},S={class:"flex items-center justify-between"},U={class:"text-sm text-gray-600"},j={class:"flex flex-wrap items-center justify-end gap-2"},A={class:"overflow-x-auto rounded-md border bg-white"},M={class:"min-w-full divide-y"},E={class:"divide-y"},O={class:"px-4 py-3"},P={class:"px-4 py-3"},$={class:"px-4 py-3"},z={class:"text-gray-500"},H={class:"px-4 py-3"},q={class:"px-4 py-3"},G={class:"px-4 py-3 text-right"},J={key:0,class:"flex items-center gap-2"},Z=V({__name:"Index",props:{invoices:{},metrics:{},filters:{}},setup(_){const m=_,b=[{title:"Dashboard",href:"/dashboard"},{title:"Billing",href:"/admin/billing"}],i=y(m.filters?.status||""),n=y(m.filters?.user_id||""),g=()=>{D.get(route("admin.billing.index"),{status:i.value||void 0,user_id:n.value||void 0},{preserveState:!0,replace:!0})},w=a=>{if(!a)return"";const s=a.replace(/<[^>]*>/g,""),t=document.createElement("textarea");return t.innerHTML=s,t.value};return(a,s)=>(l(),r(c,null,[d(p(k),{title:"Billing"}),d(F,{breadcrumbs:b},{default:u(()=>[e("div",L,[e("div",S,[s[2]||(s[2]=e("h1",{class:"text-xl font-semibold"},"Invoices",-1)),e("div",U,"Total: "+o(a.metrics.count)+" · Paid: "+o(a.metrics.paid)+" · Open: "+o(a.metrics.open),1)]),e("div",j,[x(e("select",{"onUpdate:modelValue":s[0]||(s[0]=t=>i.value=t),class:"rounded border px-3 py-2"},[...s[3]||(s[3]=[e("option",{value:""},"All statuses",-1),e("option",{value:"paid"},"Paid",-1),e("option",{value:"open"},"Open",-1),e("option",{value:"void"},"Void",-1)])],512),[[C,i.value]]),x(e("input",{"onUpdate:modelValue":s[1]||(s[1]=t=>n.value=t),type:"number",min:"1",placeholder:"User ID",class:"rounded border px-3 py-2 w-28"},null,512),[[I,n.value]]),e("button",{onClick:g,class:"rounded bg-primary px-4 py-2 text-white"},"Apply")]),e("div",A,[e("table",M,[s[5]||(s[5]=e("thead",null,[e("tr",{class:"text-left"},[e("th",{class:"px-4 py-2"},"Number"),e("th",{class:"px-4 py-2"},"Status"),e("th",{class:"px-4 py-2"},"User"),e("th",{class:"px-4 py-2"},"Total"),e("th",{class:"px-4 py-2"},"Issued"),e("th",{class:"px-4 py-2 text-right"},"Actions")])],-1)),e("tbody",E,[(l(!0),r(c,null,f(a.invoices.data,t=>(l(),r("tr",{key:t.id,class:"hover:bg-gray-50"},[e("td",O,o(t.number),1),e("td",P,o(t.status),1),e("td",$,[h(o(t.user?.name)+" ",1),e("span",z,o(t.user?.email),1)]),e("td",H,"$"+o(t.total.toFixed(2)),1),e("td",q,o(t.issued_at),1),e("td",G,[d(p(v),{href:a.route("admin.billing.show",t.id),class:"inline-flex items-center gap-2 rounded bg-primary px-3 py-1.5 text-sm text-white"},{default:u(()=>[...s[4]||(s[4]=[h("View",-1)])]),_:2},1032,["href"])])]))),128))])])]),a.invoices.links?(l(),r("div",J,[(l(!0),r(c,null,f(a.invoices.links,t=>(l(),N(p(v),{key:t.url+t.label,href:t.url||"#",class:T(["px-3 py-1 rounded",{"bg-gray-200":t.active,"opacity-50 pointer-events-none":!t.url}])},{default:u(()=>[e("span",null,o(w(t.label)),1)]),_:2},1032,["href","class"]))),128))])):B("",!0)])]),_:1})],64))}});export{Z as default};
