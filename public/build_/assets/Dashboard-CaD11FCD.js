import{_ as y}from"./AppLayout.vue_vue_type_script_setup_true_lang-oEio1Vio.js";import{d as k,p as u,c as i,o,a as m,u as C,h as $,w as L,b as e,F as l,j as c,t as n,n as g,f as v,q as Z}from"./app-B_Zw6QGP.js";import"./index-7eilHQPG.js";import"./useForwardExpose-C6-hPyV1.js";import"./VisuallyHidden-Cy1sULpD.js";import"./createLucideIcon-CHfYH6pV.js";const z={class:"p-6 space-y-8"},B={class:"flex flex-col gap-2 sm:flex-row sm:items-end sm:justify-between"},D={class:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4"},F={class:"text-sm text-muted-foreground"},M={class:"mt-1 text-2xl font-semibold"},j={class:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3"},S={class:"relative flex items-start justify-between"},V={class:"text-sm text-muted-foreground"},A={class:"mt-1 text-3xl font-semibold"},N={class:"rounded-lg bg-white/70 p-2 ring-1 ring-inset ring-black/5 backdrop-blur group-hover:scale-105 transition"},T={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"h-6 w-6 text-indigo-600"},R={key:1,xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24",class:"h-6 w-6 text-emerald-600"},U={key:2,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"h-6 w-6 text-amber-600"},H={class:"grid gap-6 lg:grid-cols-2"},K={class:"overflow-hidden rounded-xl border bg-white shadow-sm dark:bg-zinc-900"},P={class:"divide-y"},q={class:"col-span-2 font-medium"},E={class:"text-muted-foreground"},I={class:"text-right font-medium"},W={key:0,class:"p-6 text-center text-sm text-muted-foreground"},G={class:"overflow-hidden rounded-xl border bg-white shadow-sm dark:bg-zinc-900"},J={class:"divide-y"},O={class:"grid h-10 w-10 place-items-center rounded-full bg-gradient-to-br from-indigo-500/20 to-emerald-500/20 text-sm font-semibold text-indigo-700 ring-1 ring-inset ring-black/5"},Q={class:"min-w-0 flex-1"},X={class:"truncate font-medium"},Y={class:"truncate text-sm text-muted-foreground"},ee={class:"text-sm text-muted-foreground"},te={key:0,class:"p-6 text-center text-sm text-muted-foreground"},se={class:"overflow-hidden rounded-xl border bg-white shadow-sm dark:bg-zinc-900"},ie={class:"p-6"},oe={class:"flex items-end gap-3 h-48"},ne=["title"],re={class:"absolute -top-6 left-1/2 -translate-x-1/2 text-xs text-muted-foreground"},ae={class:"text-xs text-muted-foreground"},ve=k({__name:"Dashboard",props:{cards:{},recent_invoices:{},recent_signups:{},verifications_last7:{}},setup(h){const a=h,p=[{title:"Admin",href:"/admin"},{title:"Dashboard",href:"/admin/dashboard"}],x=u(()=>[{label:"Total Users",value:a.cards?.total_users??0,icon:"users",gradient:"from-indigo-500/10 via-indigo-500/5 to-transparent"},{label:"Active Subscriptions",value:a.cards?.active_subscriptions??0,icon:"sparkles",gradient:"from-emerald-500/10 via-emerald-500/5 to-transparent"},{label:"MRR",value:`$${(a.cards?.mrr??0).toFixed(2)}`,icon:"cash",gradient:"from-amber-500/10 via-amber-500/5 to-transparent"}]),_=u(()=>[{label:"Plans",value:a.cards?.plans??0},{label:"Today's Payments",value:`$${(a.cards?.payments_today??0).toFixed(2)}`},{label:"This Week",value:`$${(a.cards?.payments_week??0).toFixed(2)}`},{label:"This Month",value:`$${(a.cards?.payments_month??0).toFixed(2)}`}]),b=u(()=>{const d=a.verifications_last7||[],s=Math.max(1,...d.map(r=>r.count)),t=d.map(r=>({date:r.date,count:r.count,h:Math.round(r.count/s*100),label:new Date(r.date+"T00:00:00").toLocaleDateString(void 0,{month:"short",day:"numeric"})}));return{max:s,bars:t}});function f(d){const s=(d||"").toLowerCase();return s.includes("paid")||s.includes("succeeded")?"bg-emerald-50 text-emerald-700 ring-1 ring-inset ring-emerald-200":s.includes("open")||s.includes("pending")?"bg-amber-50 text-amber-800 ring-1 ring-inset ring-amber-200":s.includes("failed")||s.includes("void")?"bg-rose-50 text-rose-700 ring-1 ring-inset ring-rose-200":"bg-slate-50 text-slate-700 ring-1 ring-inset ring-slate-200"}function w(d,s){const r=(d&&d.trim()||(s||"").split("@")[0]).split(/\s+/).filter(Boolean);return(r[0]?.[0]||"").toUpperCase()+(r[1]?.[0]||"").toUpperCase()}return(d,s)=>(o(),i(l,null,[m(C($),{title:"Admin · Dashboard"}),m(y,{breadcrumbs:p},{default:L(()=>[e("div",z,[e("div",B,[s[0]||(s[0]=e("div",null,[e("h1",{class:"text-2xl font-semibold tracking-tight"},"Admin Dashboard"),e("p",{class:"text-sm text-muted-foreground"},"Key metrics and recent activity across your platform")],-1)),e("div",D,[(o(!0),i(l,null,c(_.value,(t,r)=>(o(),i("div",{key:r,class:"rounded-xl border bg-white p-5 shadow-sm transition hover:shadow-md dark:bg-zinc-900"},[e("div",F,n(t.label),1),e("div",M,n(t.value),1)]))),128))])]),e("div",j,[(o(!0),i(l,null,c(x.value,(t,r)=>(o(),i("div",{key:r,class:"group relative overflow-hidden rounded-xl border bg-white p-5 shadow-sm transition hover:shadow-md dark:bg-zinc-900"},[e("div",{class:g(["pointer-events-none absolute inset-0 bg-gradient-to-br",t.gradient])},null,2),e("div",S,[e("div",null,[e("div",V,n(t.label),1),e("div",A,n(t.value),1)]),e("div",N,[t.icon==="users"?(o(),i("svg",T,[...s[1]||(s[1]=[e("path",{d:"M16 11c1.657 0 3-1.79 3-4s-1.343-4-3-4-3 1.79-3 4 1.343 4 3 4Zm-8 0c1.657 0 3-1.79 3-4S9.657 3 8 3 5 4.79 5 7s1.343 4 3 4Zm0 2c-2.67 0-8 1.34-8 4v2h10v-2c0-1.64.84-3.09 2.17-4.13C11.19 12.34 9.62 13 8 13Zm8 0c-.54 0-1.06.05-1.55.14A6 6 0 0 1 20 19v2h4v-2c0-2.66-5.33-4-8-4Z"},null,-1)])])):t.icon==="sparkles"?(o(),i("svg",R,[...s[2]||(s[2]=[e("path",{d:"M9 12 7 7 2 5l5-2 2-5 2 5 5 2-5 2-2 5Zm10 12-1.5-4.5L13 18l4.5-1.5L19 12l1.5 4.5L25 18l-4.5 1.5L19 24Z"},null,-1)])])):(o(),i("svg",U,[...s[3]||(s[3]=[e("path",{d:"M12 1a4 4 0 0 1 4 4v1h3a2 2 0 0 1 2 2v3H3V8a2 2 0 0 1 2-2h3V5a4 4 0 0 1 4-4Zm-9 12h18v6a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3v-6Z"},null,-1)])]))])])]))),128))]),e("div",H,[e("div",K,[s[4]||(s[4]=e("div",{class:"flex items-center justify-between border-b p-4"},[e("h2",{class:"text-lg font-semibold"},"Recent Invoices")],-1)),e("div",P,[(o(!0),i(l,null,c(a.recent_invoices,t=>(o(),i("div",{key:t.id,class:"grid grid-cols-5 items-center gap-2 p-4 text-sm"},[e("div",q,n(t.number),1),e("div",null,[e("span",{class:g(["inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium",f(t.status)])},n(t.status),3)]),e("div",E,n(t.issued_at||"—"),1),e("div",I,n(t.currency)+" "+n(t.total.toFixed(2)),1)]))),128)),a.recent_invoices?.length?v("",!0):(o(),i("div",W,"No invoices yet."))])]),e("div",G,[s[5]||(s[5]=e("div",{class:"flex items-center justify-between border-b p-4"},[e("h2",{class:"text-lg font-semibold"},"Recent Signups")],-1)),e("div",J,[(o(!0),i(l,null,c(a.recent_signups,t=>(o(),i("div",{key:t.id,class:"flex items-center gap-3 p-4"},[e("div",O,n(w(t.name,t.email)),1),e("div",Q,[e("div",X,n(t.name||"—"),1),e("div",Y,n(t.email),1)]),e("div",ee,n(t.created_at||"—"),1)]))),128)),a.recent_signups?.length?v("",!0):(o(),i("div",te,"No recent signups."))])])]),e("div",se,[s[6]||(s[6]=e("div",{class:"flex items-center justify-between border-b p-4"},[e("h2",{class:"text-lg font-semibold"},"Verifications · Last 7 days")],-1)),e("div",ie,[e("div",oe,[(o(!0),i(l,null,c(b.value.bars,t=>(o(),i("div",{key:t.date,class:"flex w-10 flex-col items-center gap-2"},[e("div",{class:"relative w-full rounded-t bg-indigo-500/80 transition hover:bg-indigo-500",style:Z({height:t.h+"%"}),title:`${t.label}: ${t.count}`},[e("div",re,n(t.count),1)],12,ne),e("div",ae,n(t.label),1)]))),128))])])])])]),_:1})],64))}});export{ve as default};
