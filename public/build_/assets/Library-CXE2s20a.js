import{d as C,r as p,p as m,C as L,c as r,o,a as v,k as D,u as V,h as j,w as _,b as e,g as x,i as B,v as $,n as b,e as N,F as f,j as h,t as l,D as z}from"./app-B_Zw6QGP.js";import{_ as F}from"./AppLayout.vue_vue_type_script_setup_true_lang-oEio1Vio.js";import{_ as S}from"./SiteLayout.vue_vue_type_script_setup_true_lang-C4QPYVyk.js";import{_ as U}from"./Layout.vue_vue_type_script_setup_true_lang-BEjMiQs6.js";import"./index-7eilHQPG.js";import"./useForwardExpose-C6-hPyV1.js";import"./VisuallyHidden-Cy1sULpD.js";import"./createLucideIcon-CHfYH6pV.js";import"./Heading.vue_vue_type_script_setup_true_lang-FmtfF59k.js";const q={class:"p-6 space-y-4"},M={class:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between"},P={class:"flex items-center gap-2"},T={class:"ml-2 inline-flex overflow-hidden rounded border"},A={key:0,class:"rounded border p-10 text-center text-sm text-muted-foreground"},E=["href"],G={key:1},I={key:0,class:"grid grid-cols-2 gap-4 sm:grid-cols-3 md:grid-cols-4"},Q=["src","alt"],H={class:"mt-2 truncate text-sm"},J={class:"text-xs text-muted-foreground"},K={class:"mt-2 flex gap-2 text-xs"},O=["href"],R=["href"],W={key:1,class:"divide-y rounded border"},X={class:"flex items-center gap-3 min-w-0"},Y=["src","alt"],Z={class:"min-w-0"},ee={class:"truncate text-sm"},se={class:"text-xs text-muted-foreground"},te={class:"flex gap-2 text-xs"},oe=["href"],re=["href"],me=C({__name:"Library",props:{filters:{},items:{},empty:{type:Boolean}},setup(g){const u=g,a=p("grid"),d=p(u.filters.search||""),n=p(u.filters.status),c=m(()=>u.items.filter(i=>(!d.value||i.filename.toLowerCase().includes(d.value.toLowerCase()))&&(!n.value||i.status===n.value))),y=L(),w=m(()=>y.props?.auth?.is_admin?F:S),k=[{title:"Library",href:"/app/library"}];return(i,t)=>(o(),r(f,null,[v(V(j),{title:"Library"}),(o(),D(z(w.value),{breadcrumbs:k},{default:_(()=>[v(U,null,{default:_(()=>[e("div",q,[e("div",M,[t[5]||(t[5]=e("h1",{class:"text-2xl font-semibold"},"Library",-1)),e("div",P,[x(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>d.value=s),type:"text",placeholder:"Search...",class:"h-9 rounded border px-3 text-sm"},null,512),[[B,d.value]]),x(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>n.value=s),class:"h-9 rounded border px-3 text-sm"},[...t[4]||(t[4]=[e("option",{value:null},"All statuses",-1),e("option",{value:"processed"},"Processed",-1),e("option",{value:"queued"},"Queued",-1),e("option",{value:"failed"},"Failed",-1)])],512),[[$,n.value]]),e("div",T,[e("button",{class:b(["px-3 py-1 text-sm",a.value==="grid"?"bg-gray-100":""]),onClick:t[2]||(t[2]=s=>a.value="grid")},"Grid",2),e("button",{class:b(["px-3 py-1 text-sm",a.value==="list"?"bg-gray-100":""]),onClick:t[3]||(t[3]=s=>a.value="list")},"List",2)])])]),c.value.length?(o(),r("div",G,[a.value==="grid"?(o(),r("div",I,[(o(!0),r(f,null,h(c.value,s=>(o(),r("div",{key:s.id,class:"group rounded border p-2"},[e("img",{src:s.thumbnail,alt:s.filename,class:"aspect-square w-full rounded object-cover"},null,8,Q),e("div",H,l(s.filename),1),e("div",J,l(s.size)+" · "+l(s.status),1),e("div",K,[e("a",{href:s.url,target:"_blank",class:"rounded border px-2 py-1"},"View",8,O),e("a",{href:s.url,download:"",class:"rounded border px-2 py-1"},"Download",8,R),t[7]||(t[7]=e("button",{class:"rounded border px-2 py-1 text-red-600"},"Delete",-1))])]))),128))])):(o(),r("div",W,[(o(!0),r(f,null,h(c.value,s=>(o(),r("div",{key:s.id,class:"flex items-center justify-between p-3"},[e("div",X,[e("img",{src:s.thumbnail,alt:s.filename,class:"h-12 w-12 rounded object-cover"},null,8,Y),e("div",Z,[e("div",ee,l(s.filename),1),e("div",se,l(s.size)+" · "+l(s.status),1)])]),e("div",te,[e("a",{href:s.url,target:"_blank",class:"rounded border px-2 py-1"},"View",8,oe),e("a",{href:s.url,download:"",class:"rounded border px-2 py-1"},"Download",8,re),t[8]||(t[8]=e("button",{class:"rounded border px-2 py-1 text-red-600"},"Delete",-1))])]))),128))]))])):(o(),r("div",A,[t[6]||(t[6]=N(" No uploads yet → ",-1)),e("a",{href:i.route("app.upload"),class:"underline"},"Upload now",8,E)]))])]),_:1})]),_:1}))],64))}});export{me as default};
