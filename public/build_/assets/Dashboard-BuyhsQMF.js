import{d as h,s as _,C as t,c as a,o as r,a as c,u as s,h as b,w as x,b as e,f as n,t as d,B as v,F as u,j as y}from"./app-B_Zw6QGP.js";import{_ as k}from"./AppLayout.vue_vue_type_script_setup_true_lang-oEio1Vio.js";import"./index-7eilHQPG.js";import"./useForwardExpose-C6-hPyV1.js";import"./VisuallyHidden-Cy1sULpD.js";import"./createLucideIcon-CHfYH6pV.js";const w={class:"p-6 space-y-8"},D={key:0,class:"rounded border p-4"},C={class:"text-sm"},F=["disabled"],B={key:0,class:"mt-2 text-sm text-red-600"},N={key:1,class:"mt-2 text-sm text-green-600"},U={class:"grid gap-4 grid-cols-2 md:grid-cols-3 lg:grid-cols-4"},V=["src"],P=h({__name:"Dashboard",setup(j){const g=[{title:"Dashboard",href:"/dashboard"}],i=_({image:null}),m=t().props.errors,f=()=>{const p=new FormData;i.image&&p.append("image",i.image),i.post(route("images.store"),{forceFormData:!0})};return(p,o)=>(r(),a(u,null,[c(s(b),{title:"Dashboard"}),c(k,{breadcrumbs:g},{default:x(()=>[e("div",w,[s(t)().props.usage?(r(),a("div",D,[e("p",C,"You have used "+d(s(t)().props.usage.used)+" of "+d(s(t)().props.usage.limit)+" images this month.",1)])):n("",!0),e("div",null,[o[1]||(o[1]=e("h2",{class:"text-lg font-semibold"},"Upload image",-1)),e("form",{onSubmit:v(f,["prevent"]),class:"mt-4 flex items-center gap-4"},[e("input",{type:"file",accept:"image/*",onChange:o[0]||(o[0]=l=>s(i).image=l.target.files?.[0]??null),class:"block"},null,32),e("button",{type:"submit",disabled:s(i).processing,class:"inline-flex items-center rounded-md bg-primary px-4 py-2 text-white"},"Upload",8,F)],32),s(m)?.image?(r(),a("p",B,d(s(m).image),1)):n("",!0),s(t)().props.flash?.success?(r(),a("p",N,d(s(t)().props.flash.success),1)):n("",!0)]),e("div",null,[o[2]||(o[2]=e("h2",{class:"text-lg font-semibold mb-4"},"Your images",-1)),e("div",U,[(r(!0),a(u,null,y(s(t)().props.images||[],l=>(r(),a("div",{key:l.id,class:"aspect-square overflow-hidden rounded border"},[e("img",{src:l.url,alt:"Uploaded image",class:"h-full w-full object-cover"},null,8,V)]))),128))])])])]),_:1})],64))}});export{P as default};
