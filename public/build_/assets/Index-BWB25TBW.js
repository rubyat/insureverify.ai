import{d as b,r as g,c as n,o,a as i,u as d,h as w,w as c,b as e,f as k,t as a,g as C,v as F,F as p,j as u,e as m,l as y,k as S,n as V,m as A}from"./app-B_Zw6QGP.js";import{_ as B}from"./AppLayout.vue_vue_type_script_setup_true_lang-oEio1Vio.js";import"./index-7eilHQPG.js";import"./useForwardExpose-C6-hPyV1.js";import"./VisuallyHidden-Cy1sULpD.js";import"./createLucideIcon-CHfYH6pV.js";const L={class:"p-6 space-y-6 bg-gray-50"},N={class:"flex items-center justify-between"},P={class:"text-sm text-gray-600"},j={class:"flex flex-wrap items-center justify-end gap-2"},D={class:"overflow-x-auto rounded-md border bg-white"},T={class:"min-w-full divide-y"},E={class:"divide-y"},I={class:"px-4 py-3"},M={class:"px-4 py-3"},U={class:"px-4 py-3"},$={class:"px-4 py-3"},z={class:"px-4 py-3"},H={class:"text-gray-500"},q={class:"px-4 py-3"},G={class:"px-4 py-3 text-right"},J={key:0,class:"flex items-center gap-2"},Y=b({__name:"Index",props:{payments:{},metrics:{},filters:{}},setup(f){const x=f,h=[{title:"Dashboard",href:"/dashboard"},{title:"Payments",href:"/admin/payments"}],l=g(x.filters?.status||""),_=()=>{A.get(route("admin.payments.index"),{status:l.value||void 0},{preserveState:!0,replace:!0})},v=r=>{if(!r)return"";const s=r.replace(/<[^>]*>/g,""),t=document.createElement("textarea");return t.innerHTML=s,t.value};return(r,s)=>(o(),n(p,null,[i(d(w),{title:"Payments"}),i(B,{breadcrumbs:h},{default:c(()=>[e("div",L,[e("div",N,[s[1]||(s[1]=e("h1",{class:"text-xl font-semibold"},"Payments",-1)),e("div",P,"Total: "+a(r.metrics.count)+" · Succeeded: "+a(r.metrics.succeeded)+" · Failed: "+a(r.metrics.failed),1)]),e("div",j,[C(e("select",{"onUpdate:modelValue":s[0]||(s[0]=t=>l.value=t),class:"rounded border px-3 py-2"},[...s[2]||(s[2]=[e("option",{value:""},"All statuses",-1),e("option",{value:"succeeded"},"Succeeded",-1),e("option",{value:"failed"},"Failed",-1)])],512),[[F,l.value]]),e("button",{onClick:_,class:"rounded bg-primary px-4 py-2 text-white"},"Apply")]),e("div",D,[e("table",T,[s[4]||(s[4]=e("thead",null,[e("tr",{class:"text-left"},[e("th",{class:"px-4 py-2"},"Status"),e("th",{class:"px-4 py-2"},"Amount"),e("th",{class:"px-4 py-2"},"Currency"),e("th",{class:"px-4 py-2"},"Paid At"),e("th",{class:"px-4 py-2"},"User"),e("th",{class:"px-4 py-2"},"Invoice"),e("th",{class:"px-4 py-2 text-right"},"Actions")])],-1)),e("tbody",E,[(o(!0),n(p,null,u(r.payments.data,t=>(o(),n("tr",{key:t.id,class:"hover:bg-gray-50"},[e("td",I,a(t.status),1),e("td",M,"$"+a(t.amount.toFixed(2)),1),e("td",U,a(t.currency),1),e("td",$,a(t.paid_at),1),e("td",z,[m(a(t.user?.name)+" ",1),e("span",H,a(t.user?.email),1)]),e("td",q,a(t.invoice?.number)+" ("+a(t.invoice?.status)+")",1),e("td",G,[i(d(y),{href:r.route("admin.payments.show",t.id),class:"inline-flex items-center gap-2 rounded bg-primary px-3 py-1.5 text-sm text-white"},{default:c(()=>[...s[3]||(s[3]=[m("View",-1)])]),_:2},1032,["href"])])]))),128))])])]),r.payments.links?(o(),n("div",J,[(o(!0),n(p,null,u(r.payments.links,t=>(o(),S(d(y),{key:t.url+t.label,href:t.url||"#",class:V(["px-3 py-1 rounded",{"bg-gray-200":t.active,"opacity-50 pointer-events-none":!t.url}])},{default:c(()=>[e("span",null,a(v(t.label)),1)]),_:2},1032,["href","class"]))),128))])):k("",!0)])]),_:1})],64))}});export{Y as default};
