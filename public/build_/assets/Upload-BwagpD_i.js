import{_}from"./AppLayout.vue_vue_type_script_setup_true_lang-oEio1Vio.js";import{_ as y}from"./SiteLayout.vue_vue_type_script_setup_true_lang-C4QPYVyk.js";import{_ as g}from"./Layout.vue_vue_type_script_setup_true_lang-BEjMiQs6.js";import{d as v,C as h,p as b,c as a,o,a as n,k as x,u as U,h as k,w as l,b as e,t as d,n as w,f as u,e as i,F as m,j as C,q,D}from"./app-B_Zw6QGP.js";import"./index-7eilHQPG.js";import"./useForwardExpose-C6-hPyV1.js";import"./VisuallyHidden-Cy1sULpD.js";import"./createLucideIcon-CHfYH6pV.js";import"./Heading.vue_vue_type_script_setup_true_lang-FmtfF59k.js";const L={class:"p-6 space-y-6"},B={class:"flex items-center justify-between"},N={class:"text-sm text-muted-foreground"},j=["disabled"],R={key:0,class:"mt-3 text-sm text-red-600"},V=["href"],z={class:"rounded border"},$={key:0,class:"divide-y"},F={class:"flex items-center justify-between"},S={class:"truncate"},E={class:"text-sm text-muted-foreground"},I={class:"text-sm"},P={class:"mt-2 h-2 w-full overflow-hidden rounded bg-gray-200"},Q={key:0,class:"mt-2 text-sm text-red-600"},T={key:1,class:"p-6 text-sm text-muted-foreground"},Z=v({__name:"Upload",props:{remainingUploads:{},cycleResetDate:{},queue:{},atLimit:{type:Boolean},upgradeUrl:{}},setup(Y){const p=h(),c=b(()=>p.props?.auth?.is_admin?_:y),f=[{title:"Upload",href:"/app/upload"}];return(t,s)=>(o(),a(m,null,[n(U(k),{title:"Upload"}),(o(),x(D(c.value),{breadcrumbs:f},{default:l(()=>[n(g,null,{default:l(()=>[e("div",L,[e("div",B,[s[0]||(s[0]=e("h1",{class:"text-2xl font-semibold"},"Upload",-1)),e("div",N,"Remaining: "+d(t.remainingUploads)+" Â· Resets "+d(t.cycleResetDate),1)]),e("div",{class:w(["flex flex-col items-center justify-center rounded border-2 border-dashed p-10 text-center",t.atLimit?"opacity-60":""])},[s[3]||(s[3]=e("div",{class:"text-lg font-medium"},"Drag & drop files here",-1)),s[4]||(s[4]=e("div",{class:"mt-1 text-sm text-muted-foreground"},"or",-1)),e("button",{class:"mt-2 rounded-md bg-primary px-4 py-2 text-white",disabled:t.atLimit},"Choose files",8,j),t.atLimit?(o(),a("div",R,[s[1]||(s[1]=i("You've reached your quota. ",-1)),e("a",{href:t.upgradeUrl,class:"underline"},"Upgrade your plan",8,V),s[2]||(s[2]=i(".",-1))])):u("",!0)],2),e("div",z,[s[5]||(s[5]=e("div",{class:"border-b p-3 font-medium"},"Upload Queue",-1)),t.queue?.length?(o(),a("div",$,[(o(!0),a(m,null,C(t.queue,r=>(o(),a("div",{key:r.id,class:"p-3"},[e("div",F,[e("div",S,[i(d(r.name)+" ",1),e("span",E,"("+d(r.size)+")",1)]),e("div",I,d(r.progress)+"%",1)]),e("div",P,[e("div",{class:"h-full bg-primary",style:q({width:r.progress+"%"})},null,4)]),r.error?(o(),a("div",Q,d(r.error),1)):u("",!0)]))),128))])):(o(),a("div",T,"No files in queue."))])])]),_:1})]),_:1}))],64))}});export{Z as default};
