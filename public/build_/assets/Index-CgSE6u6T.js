import{d as v,s as i,c as n,o as r,a as l,b as s,u as A,h as b,f as m,F as p,j as C,t as a,m as c}from"./app-B_Zw6QGP.js";import{_ as S}from"./AppLayout.vue_vue_type_script_setup_true_lang-oEio1Vio.js";import"./index-7eilHQPG.js";import"./useForwardExpose-C6-hPyV1.js";import"./VisuallyHidden-Cy1sULpD.js";import"./createLucideIcon-CHfYH6pV.js";const g={class:"p-6"},F={class:"overflow-x-auto rounded border"},B={class:"min-w-full divide-y"},N={class:"text-left"},M={key:0,class:"px-4 py-2"},V={class:"divide-y"},$={class:"px-4 py-2"},j={class:"px-4 py-2"},w={class:"px-4 py-2"},E={class:"px-4 py-2"},P={class:"px-4 py-2"},R={key:0,class:"px-4 py-2 space-x-2"},U=["onClick"],D=["onClick"],J=v({__name:"Index",props:{users:{},canManageAdmins:{type:Boolean}},setup(u){const d=u,_=i({}),y=i({}),x=o=>o.includes("admin"),h=o=>{_.post(route("admin.users.makeAdmin",o),{preserveScroll:!0,onSuccess:()=>c.reload({only:["users"]})})},f=o=>{y.post(route("admin.users.removeAdmin",o),{preserveScroll:!0,onSuccess:()=>c.reload({only:["users"]})})};return(o,e)=>(r(),n(p,null,[l(A(b),{title:"Users"}),l(S,{breadcrumbs:[{title:"Admin",href:"/admin"},{title:"Users",href:"/admin/users"}]}),s("div",g,[s("div",F,[s("table",B,[s("thead",null,[s("tr",N,[e[0]||(e[0]=s("th",{class:"px-4 py-2"},"Name",-1)),e[1]||(e[1]=s("th",{class:"px-4 py-2"},"Email",-1)),e[2]||(e[2]=s("th",{class:"px-4 py-2"},"Roles",-1)),e[3]||(e[3]=s("th",{class:"px-4 py-2"},"Plan",-1)),e[4]||(e[4]=s("th",{class:"px-4 py-2"},"Status",-1)),d.canManageAdmins?(r(),n("th",M,"Actions")):m("",!0)])]),s("tbody",V,[(r(!0),n(p,null,C(o.users,t=>(r(),n("tr",{key:t.id},[s("td",$,a(t.name),1),s("td",j,a(t.email),1),s("td",w,a(t.roles.join(", ")),1),s("td",E,a(t.plan??"—"),1),s("td",P,a(t.status??"—"),1),d.canManageAdmins?(r(),n("td",R,[x(t.roles)?(r(),n("button",{key:1,class:"text-red-600",onClick:k=>f(t.id)},"Remove Admin",8,D)):(r(),n("button",{key:0,class:"text-primary",onClick:k=>h(t.id)},"Promote to Admin",8,U))])):m("",!0)]))),128))])])])])],64))}});export{J as default};
