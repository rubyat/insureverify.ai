import{d as S,r as C,p as V,c as i,o as a,a as d,u as n,h as E,w as c,b as t,f as y,t as l,g as N,i as T,F as o,j as p,l as u,e as x,n as h,k as g,m as B}from"./app-B_Zw6QGP.js";import{_ as L}from"./AppLayout.vue_vue_type_script_setup_true_lang-oEio1Vio.js";import"./index-7eilHQPG.js";import"./useForwardExpose-C6-hPyV1.js";import"./VisuallyHidden-Cy1sULpD.js";import"./createLucideIcon-CHfYH6pV.js";const j={class:"p-6 space-y-6 bg-gray-50"},D={class:"flex items-center justify-between"},P={class:"text-sm text-gray-600"},A={class:"flex flex-wrap items-center justify-end gap-2"},F={class:"overflow-x-auto rounded-md border bg-white"},M={class:"min-w-full divide-y"},z={class:"divide-y"},H={class:"px-4 py-3"},I={class:"px-4 py-3"},U={class:"px-4 py-3"},$={class:"px-4 py-3"},q={class:"px-4 py-3"},G={class:"px-4 py-3 text-right"},J={key:0,class:"flex items-center gap-2"},K={class:"hidden"},O={key:1,class:"flex items-center gap-2"},ee=S({__name:"Index",props:{items:{},metrics:{},filters:{}},setup(v){const f=v,_=[{title:"Dashboard",href:"/dashboard"},{title:"Subscribers",href:"/admin/subscribers"}],m=C(f.filters?.search||""),w=()=>{B.get(route("admin.subscribers.index"),{search:m.value},{preserveState:!0,replace:!0})},b=s=>{if(!s)return"";const r=s.replace(/<[^>]*>/g,""),e=document.createElement("textarea");return e.innerHTML=r,e.value},k=V(()=>f.items?.total||0);return(s,r)=>(a(),i(o,null,[d(n(E),{title:"Subscribers"}),d(L,{breadcrumbs:_},{default:c(()=>[t("div",j,[t("div",D,[r[1]||(r[1]=t("h1",{class:"text-xl font-semibold"},"Subscribers",-1)),t("div",P,"Total: "+l(k.value)+", Active: "+l(s.metrics.active)+", Trialing: "+l(s.metrics.trialing)+", Past due: "+l(s.metrics.past_due),1)]),t("div",A,[N(t("input",{"onUpdate:modelValue":r[0]||(r[0]=e=>m.value=e),type:"text",placeholder:"Search by name or email",class:"rounded border px-3 py-2"},null,512),[[T,m.value]]),t("button",{onClick:w,class:"rounded bg-primary px-4 py-2 text-white"},"Search")]),t("div",F,[t("table",M,[r[3]||(r[3]=t("thead",null,[t("tr",{class:"text-left"},[t("th",{class:"px-4 py-2"},"Name"),t("th",{class:"px-4 py-2"},"Email"),t("th",{class:"px-4 py-2"},"Plan"),t("th",{class:"px-4 py-2"},"Status"),t("th",{class:"px-4 py-2"},"Period End"),t("th",{class:"px-4 py-2 text-right"},"Actions")])],-1)),t("tbody",z,[(a(!0),i(o,null,p(s.items.data,e=>(a(),i("tr",{key:e.id,class:"hover:bg-gray-50"},[t("td",H,[d(n(u),{href:s.route("admin.subscribers.show",e.id),class:"text-primary hover:underline"},{default:c(()=>[x(l(e.name),1)]),_:2},1032,["href"])]),t("td",I,l(e.email),1),t("td",U,l(e.plan||"-"),1),t("td",$,[t("span",{class:h(["inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium",e.status==="active"?"bg-green-100 text-green-700":e.status==="trialing"?"bg-blue-100 text-blue-700":e.status==="past_due"?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-700"])},l(e.status||"none"),3)]),t("td",q,l(e.periodEnd),1),t("td",G,[d(n(u),{href:s.route("admin.subscribers.show",e.id),class:"inline-flex items-center gap-2 rounded bg-primary px-3 py-1.5 text-sm text-white"},{default:c(()=>[...r[2]||(r[2]=[x("View",-1)])]),_:2},1032,["href"])])]))),128))])])]),s.items.links?(a(),i("div",J,[(a(!0),i(o,null,p(s.items.links,e=>(a(),g(n(u),{key:e.url+e.label,href:e.url||"#",class:h(["px-3 py-1 rounded",{"bg-gray-200":e.active,"opacity-50 pointer-events-none":!e.url}])},null,8,["href","class"]))),128)),(a(!0),i(o,null,p(s.items.links,e=>(a(),i("span",K,l(b(e.label)),1))),256)),r[4]||(r[4]=t("div",{class:"hidden"},null,-1))])):y("",!0),s.items.links?(a(),i("div",O,[(a(!0),i(o,null,p(s.items.links,e=>(a(),g(n(u),{key:e.label+"-2",href:e.url||"#",class:h(["px-3 py-1 rounded",{"bg-gray-200":e.active,"opacity-50 pointer-events-none":!e.url}])},{default:c(()=>[t("span",null,l(b(e.label)),1)]),_:2},1032,["href","class"]))),128))])):y("",!0)])]),_:1})],64))}});export{ee as default};
